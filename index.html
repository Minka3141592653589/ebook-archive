<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>E-Book-Archiv</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Ebook Archive</h1>
  <p>going to add more ebooks tomorrow</p>

  <div>
  <input type="text" id="search" placeholder="Search by title or author">
</div>

  <div>
  <button id="sort-title">Sort by Title</button>
  <button id="sort-author">Sort by Author</button>
</div>

  <ul id="book-list"></ul>

  <script>
let booksData = [];

function renderBooks() {
  const list = document.getElementById("book-list");
  list.innerHTML = "";
  for (const book of booksData) {
    const li = document.createElement("li");
    const a = document.createElement("a");
    a.href = `book.html?book=${book.slug}`;
    a.textContent = `${book.author} â€“ ${book.title}`;
    li.appendChild(a);
    list.appendChild(li);
  }
}

fetch("books.json")
  .then(r => r.json())
  .then(books => {
    booksData = books;
    renderBooks();
  });

document.getElementById("sort-title").addEventListener("click", () => {
  booksData.sort((a, b) => a.title.localeCompare(b.title));
  renderBooks();
});

document.getElementById("sort-author").addEventListener("click", () => {
  booksData.sort((a, b) => a.author.localeCompare(b.author));
  renderBooks();

 searchInput.addEventListener("input", () => {
    const query = searchInput.value.toLowerCase();
    filteredData = booksData.filter(book =>
      book.title.toLowerCase().includes(query) ||
      book.author.toLowerCase().includes(query)
    );
    renderBooks(filteredData);
  });
});
</script>
</body>
</html>

